#include "quink.h"
#include <iostream>
#include <cstring>
#include "TCanvas.h"
#include "ConvoluteLoop.C"

using namespace std;

quink::quink(double Xl, double Xh, double Yl, double Yh)
{
  xl = Xl;
  xh = Xh;
  yl = Yl;
  yh = Yh;
}

void quink::Display(double t[5], double &x, double &y) //Start time, end time, sample interval, and position of charge cloud.
{
 vector<double> Readings;
 double relativepos [7];
 // creating the relative positions, taking the positions of the pad
 // and subtracting the position of the charge cloud hit
  for(int lx = 0; lx <=10; lx++)// scan along x-axis of pad
    {
      for(int ly = 0; ly <=30; ly++)// scan along y-axis of pad
	{
	  relativepos[0] = (xl-x*(1+lx*0.1)); 
	  relativepos[1] = (xh-x*(1+lx*0.1)); 
	  relativepos[2] = (yl-y*(1+ly*0.1)); 
	  relativepos[3] = (yh-y*(1+ly*0.1));
	  relativepos[4] = lx;
	  relativepos[5] = ly;
	  // Pass the array with all of the material constants
	  // and the relative position to the convolution
	  ConvoluteLoop(t,relativepos);
	}
    }
}
// This is just a function used to make sure it was constructed correctly.
void quink::Report()
{
  char name[40];
  sprintf(name,"(%g,%g) to (%g,%g)",xl,yl,xh,yh);
  cout<<name<<endl;
}
